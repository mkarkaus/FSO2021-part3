{"version":3,"sources":["components/Filter.js","components/Notification.js","components/Persons.js","components/PersonForm.js","services/persons.js","App.js","index.js"],"names":["Filter","props","value","filter","onChange","event","setFilter","target","Notification","message","className","Person","name","number","onClick","handleRemovePerson","id","Persons","persons","map","person","toLowerCase","includes","PersonForm","onSubmit","handleNewPerson","newName","handleNewName","newNumber","handleNewNumber","type","baseUrl","personService","getAll","axios","get","then","response","data","create","newObject","post","remove","delete","change","put","App","useState","setPersons","setNewName","setNewNumber","class","notifMessage","setNotifMessage","useEffect","InitialPersons","preventDefault","personObject","some","window","confirm","find","catch","error","console","log","status","returnedPerson","concat","setTimeout","temp","ReactDOM","render","document","getElementById"],"mappings":"4LAUeA,EARA,SAACC,GAAD,OACd,oDACkB,uBACjBC,MAAOD,EAAME,OACbC,SAAU,SAACC,GAAD,OAAWJ,EAAMK,UAAUD,EAAME,OAAOL,cCQrCM,EAZM,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,QAASC,EAAgB,EAAhBA,UAChC,OAAgB,OAAZD,EACI,KAIP,qBAAKC,UAAWA,EAAhB,SACED,KCPEE,EAAS,SAACV,GAAD,OACd,gCACEA,EAAMW,KADR,IACeX,EAAMY,OAAS,IAC7B,wBAAQC,QAAS,SAACT,GAAD,OAAWJ,EAAMc,mBAAmBV,EAAOJ,EAAMe,KAAlE,wBAmBaC,EAdC,SAAChB,GAAD,OACf,8BACEA,EAAMiB,QAAQC,KAAI,SAAAC,GAAM,OACxBA,EAAOR,KAAKS,cAAcC,SAASrB,EAAME,OAAOkB,eAC7C,cAAC,EAAD,CACAL,GAAII,EAAOJ,GACXJ,KAAMQ,EAAOR,KACbC,OAAQO,EAAOP,OACfE,mBAAoBd,EAAMc,oBAJbK,EAAOR,MAMpB,WCDSW,EAjBI,SAACtB,GAAD,OAClB,uBAAMuB,SAAUvB,EAAMwB,gBAAtB,UACC,yCACO,uBACLvB,MAAOD,EAAMyB,QACbtB,SAAUH,EAAM0B,mBAGlB,2CACS,uBACPzB,MAAOD,EAAM2B,UACbxB,SAAUH,EAAM4B,qBAGlB,8BAAK,wBAAQC,KAAK,SAAb,uB,gBCdDC,EAAU,eA4BDC,EAFO,CAAEC,OAxBT,WAGd,OAFgBC,IAAMC,IAAIJ,GAEVK,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAqBXC,OAlBjB,SAAAC,GAGd,OAFgBN,IAAMO,KAAKV,EAASS,GAEpBJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAeHI,OAZzB,SAAA1B,GAGd,OAFgBkB,IAAMS,OAAN,UAAgBZ,EAAhB,YAA2Bf,IAE3BoB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SASKM,OANjC,SAACJ,EAAWxB,GAG1B,OAFgBkB,IAAMW,IAAN,UAAad,EAAb,YAAwBf,GAAMwB,GAE9BJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UC4G5BQ,EA9HH,WACX,MAAgCC,mBAAS,IAAzC,mBAAQ7B,EAAR,KAAiB8B,EAAjB,KACA,EAAgCD,mBAAS,IAAzC,mBAAQrB,EAAR,KAAiBuB,EAAjB,KACA,EAAoCF,mBAAS,IAA7C,mBAAQnB,EAAR,KAAmBsB,EAAnB,KACA,EAA8BH,mBAAS,IAAvC,mBAAQ5C,EAAR,KAAgBG,EAAhB,KACA,EAA0CyC,mBAAS,CAAEtC,QAAS,KAAM0C,MAAO,OAA3E,mBAAQC,EAAR,KAAsBC,EAAtB,KAEAC,qBAAU,kBACTtB,EACEC,SACAG,MAAK,SAAAmB,GAAc,OACnBP,EAAWO,QACZ,IA2FF,OACC,gCACC,2CACA,cAAC,EAAD,CAAc9C,QAAS2C,EAAa3C,QACnCC,UAAW0C,EAAaD,QAEzB,cAAC,EAAD,CAAQhD,OAAQA,EAAQG,UAAWA,IACnC,2CACA,cAAC,EAAD,CAAYmB,gBAjGI,SAACpB,GAClBA,EAAMmD,iBACN,IAAMC,EAAe,CACpB7C,KAAMc,EACNb,OAAQe,GAELV,EAAQwC,MAAK,SAAAtC,GAAM,OAAIA,EAAOR,OAASc,KAEtCiC,OAAOC,QAAP,UAAkBlC,EAAlB,4EAEHM,EACEY,OAAOa,EAAcvC,EAAQ2C,MAAK,SAAAzC,GAAM,OAAIA,EAAOR,OAASc,KAASV,IACrEoB,MAAK,WACLY,EAAW9B,EAAQC,KAAI,SAAAC,GAAM,OAC3BA,EAAOR,OAASc,EAAjB,YAAC,eACK+B,GADN,IACoBzC,GAAII,EAAOJ,KAC7BI,MAEHiC,EAAgB,CACf5C,QAAQ,iBAAD,OAAmBiB,EAAnB,qBACPyB,MAAO,oBAGRW,OAAM,SAAAC,GACNC,QAAQC,IAAIF,EAAM1B,SAASC,KAAKyB,OACF,MAA1BA,EAAM1B,SAAS6B,QAElBlB,EAAW9B,EAAQf,QAAO,SAAAiB,GAAM,OAAIA,EAAOR,OAASc,MACpD2B,EAAgB,CACf5C,QAAQ,kBAAD,OAAoBiB,EAApB,6CACPyB,MAAO,WAIRE,EAAgB,CACf5C,QAASsD,EAAM1B,SAASC,KAAKyB,MAC7BZ,MAAO,aAOZnB,EACEO,OAAOkB,GACPrB,MAAK,SAAA+B,GACLnB,EAAW9B,EAAQkD,OAAOD,IAC1Bd,EAAgB,CACf5C,QAAQ,SAAD,OAAWiB,GAClByB,MAAO,oBAGRW,OAAM,SAAAC,GACNV,EAAgB,CACf5C,QAASsD,EAAM1B,SAASC,KAAKyB,MAC7BZ,MAAO,UAERa,QAAQC,IAAIF,EAAM1B,SAASC,KAAKyB,UAGnCM,YAAW,WACVhB,EAAgB,CAAE5C,QAAS,KAAM0C,MAAO,SACtC,KACHF,EAAW,IACXC,EAAa,KAkCXvB,cAZmB,SAACtB,GAAD,OAAW4C,EAAW5C,EAAME,OAAOL,QAatD2B,gBAZqB,SAACxB,GAAD,OAAW6C,EAAa7C,EAAME,OAAOL,QAa1DwB,QAASA,EACTE,UAAWA,IAEZ,yCACA,cAAC,EAAD,CAASV,QAASA,EACjBf,OAAQA,EACRY,mBAvCkB,SAACV,EAAOW,GAC5BX,EAAMmD,kBACyE,IAA3EG,OAAOC,QAAP,iBAAyB1C,EAAQ2C,MAAK,SAAAS,GAAI,OAAIA,EAAKtD,KAAOA,KAAIJ,KAA9D,QAEHoB,EACEU,OAAO1B,GACPoB,MAAK,kBACLY,EAAW9B,EAAQf,QAAO,SAAAmE,GAAI,OAAIA,EAAKtD,KAAOA,SAEhDqC,EAAgB,CACf5C,QAAQ,GAAD,OAAKS,EAAQ2C,MAAK,SAAAzC,GAAM,OAAIA,EAAOJ,KAAOA,KAAIJ,KAA9C,YACPuC,MAAO,iBAERkB,YAAW,WACVhB,EAAgB,CAAE5C,QAAS,KAAM0C,MAAO,SACtC,aClGNoB,IAASC,OACJ,cAAC,EAAD,IACJC,SAASC,eAAe,W","file":"static/js/main.ec9f3de5.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => \n\t<div>\n\t\tfilter shown with<input\n\t\tvalue={props.filter}\n\t\tonChange={(event) => props.setFilter(event.target.value)}\n\t\t/>\n\t</div>\n\nexport default Filter\n","import React from 'react'\n\nconst Notification = ({ message, className }) => {\n\tif (message === null) {\n\t\treturn null\n\t}\n  \n\treturn (\n\t\t<div className={className}>\n\t\t\t{message}\n\t\t</div>\n\t)\n}\n\nexport default Notification\n","import React from 'react'\n\nconst Person = (props) => \n\t<div>\n\t\t{props.name} {props.number + ' '}\n\t\t<button onClick={(event) => props.handleRemovePerson(event, props.id)}>\n\t\t\tDelete\n\t\t</button>\n\t</div>\n\nconst Persons = (props) =>\n\t<div>\n\t\t{props.persons.map(person =>\n\t\t\tperson.name.toLowerCase().includes(props.filter.toLowerCase())\n\t\t\t\t? <Person key={person.name}\n\t\t\t\t\t\tid={person.id}\n\t\t\t\t\t\tname={person.name}\n\t\t\t\t\t\tnumber={person.number}\n\t\t\t\t\t\thandleRemovePerson={props.handleRemovePerson}\n\t\t\t\t\t/>\n\t\t\t\t: null\n\t\t)}\n\t</div>\n\nexport default Persons\n","import React from 'react'\n\nconst PersonForm = (props) =>\n\t<form onSubmit={props.handleNewPerson}>\n\t\t<div>\n\t\t\tname: <input\n\t\t\t\tvalue={props.newName}\n\t\t\t\tonChange={props.handleNewName}\n\t\t\t/>\n\t\t</div>\n\t\t<div>\n\t\t\tnumber: <input\n\t\t\t\tvalue={props.newNumber}\n\t\t\t\tonChange={props.handleNewNumber}\n\t\t\t/>\n\t\t</div>\n\t\t<div><button type=\"submit\">add</button></div>\n\t</form>\n\nexport default PersonForm\n","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n\tconst request = axios.get(baseUrl)\n\n\treturn (request.then(response => response.data))\n}\n\nconst create = newObject => {\n\tconst request = axios.post(baseUrl, newObject)\n\n\treturn (request.then(response => response.data))\n}\n\nconst remove = id => {\n\tconst request = axios.delete(`${baseUrl}/${id}`)\n\n\treturn (request.then(response => response.data))\n}\n\nconst change = (newObject, id) => {\n\tconst request = axios.put(`${baseUrl}/${id}`, newObject)\n\n\treturn (request.then(response => response.data))\n}\n\nconst personService = { getAll, create, remove, change }\n\nexport default personService\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter.js'\nimport Notification from './components/Notification.js'\nimport Persons from './components/Persons.js'\nimport PersonForm from './components/PersonForm.js'\nimport personService from './services/persons'\n\nconst App = () => {\n\tconst [ persons, setPersons ] = useState([])\n\tconst [ newName, setNewName ] = useState('')\n\tconst [ newNumber, setNewNumber ] = useState('')\n\tconst [ filter, setFilter ] = useState('')\n\tconst [ notifMessage, setNotifMessage ] = useState({ message: null, class: null })\n\n\tuseEffect(() => \n\t\tpersonService\n\t\t\t.getAll()\n\t\t\t.then(InitialPersons =>\n\t\t\t\tsetPersons(InitialPersons))\n\t, [])\n\n\tconst addPerson = (event) => {\n\t\tevent.preventDefault()\n\t\tconst personObject = {\n\t\t\tname: newName,\n\t\t\tnumber: newNumber\n\t\t}\n\t\tif (persons.some(person => person.name === newName))\n\t\t{\n\t\t\tif (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`))\n\t\t\t{\n\t\t\t\tpersonService\n\t\t\t\t\t.change(personObject, persons.find(person => person.name === newName).id)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tsetPersons(persons.map(person =>\n\t\t\t\t\t\t\t(person.name === newName)\n\t\t\t\t\t\t\t? {...personObject, id: person.id}\n\t\t\t\t\t\t\t: person\n\t\t\t\t\t\t))\n\t\t\t\t\t\tsetNotifMessage({\n\t\t\t\t\t\t\tmessage: `The number of ${newName} has been changed`,\n\t\t\t\t\t\t\tclass: 'notification'\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tconsole.log(error.response.data.error);\n\t\t\t\t\t\tif (error.response.status === 404)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsetPersons(persons.filter(person => person.name !== newName))\n\t\t\t\t\t\t\tsetNotifMessage({\n\t\t\t\t\t\t\t\tmessage: `Information of ${newName} has already been removed from the server`,\n\t\t\t\t\t\t\t\tclass: 'error'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetNotifMessage({\n\t\t\t\t\t\t\t\tmessage: error.response.data.error,\n\t\t\t\t\t\t\t\tclass: 'error'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tpersonService\n\t\t\t\t.create(personObject)\n\t\t\t\t.then(returnedPerson => {\n\t\t\t\t\tsetPersons(persons.concat(returnedPerson))\n\t\t\t\t\tsetNotifMessage({\n\t\t\t\t\t\tmessage: `Added ${newName}`,\n\t\t\t\t\t\tclass: 'notification'\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tsetNotifMessage({\n\t\t\t\t\t\tmessage: error.response.data.error,\n\t\t\t\t\t\tclass: 'error'\n\t\t\t\t\t})\n\t\t\t\t\tconsole.log(error.response.data.error)\n\t\t\t\t})\n\t\t}\n\t\tsetTimeout(() => {\n\t\t\tsetNotifMessage({ message: null, class: null })\n\t\t}, 2000)\n\t\tsetNewName('')\n\t\tsetNewNumber('')\n\t}\n\n\tconst removePerson = (event, id) => {\n\t\tevent.preventDefault()\n\t\tif (window.confirm(`Delete ${persons.find(temp => temp.id === id).name}?`) === true)\n\t\t{\n\t\t\tpersonService\n\t\t\t\t.remove(id)\n\t\t\t\t.then(() => \n\t\t\t\t\tsetPersons(persons.filter(temp => temp.id !== id))\n\t\t\t\t)\n\t\t\tsetNotifMessage({\n\t\t\t\tmessage: `${persons.find(person => person.id === id).name} removed`,\n\t\t\t\tclass: 'notification'\n\t\t\t})\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetNotifMessage({ message: null, class: null })\n\t\t\t}, 2000)\n\t\t}\n\t}\n\n\tconst handleNewName = (event) => setNewName(event.target.value)\n\tconst handleNewNumber = (event) => setNewNumber(event.target.value)\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Notification message={notifMessage.message}\n\t\t\t\tclassName={notifMessage.class}\n\t\t\t/>\n\t\t\t<Filter filter={filter} setFilter={setFilter} />\n\t\t\t<h3>add a new</h3>\n\t\t\t<PersonForm handleNewPerson={addPerson}\n\t\t\t\thandleNewName={handleNewName}\n\t\t\t\thandleNewNumber={handleNewNumber}\n\t\t\t\tnewName={newName}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t/>\n\t\t\t<h3>Numbers</h3>\n\t\t\t<Persons persons={persons}\n\t\t\t\tfilter={filter}\n\t\t\t\thandleRemovePerson={removePerson}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    \t<App />,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}